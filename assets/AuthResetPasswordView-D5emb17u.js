import{a4 as g,z as o,J as P,d as _,g as l,o as u,p as i,w as d,e as p,x as k,u as a,G as v,f as I,t as R,_ as A,K as T,A as x,b as D,k as F}from"./index-CGlgPuEt.js";import{u as q,a as N}from"./mutation.composable-BpEpAF7l.js";import{u as S}from"./typedRouteParams.composable-CBwSUAHG.js";import{_ as V,a as $}from"./AuthFormSubmitButton.vue_vue_type_script_setup_true_lang-C5MdiOmZ.js";import"./useQueryClient-ylb1_Lpr.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},s=new Error().stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="895b5d66-1feb-49b9-94da-d3a23b3266ca",e._sentryDebugIdIdentifier="sentry-dbid-895b5d66-1feb-49b9-94da-d3a23b3266ca")}catch{}})();function B(e){return g().query}const C=o.object({email:o.string().email(),password:o.string().min(8),token:o.string()});function M(){return q({queryFn:async({body:e})=>{await P.resetPassword(e)},queryKeysToInvalidate:[]})}const E=_({__name:"AuthResetPasswordForm",props:{form:{}},setup(e){const s=e,{t}=l(),n=s.form.register("password");return(r,c)=>(u(),i(A,{form:r.form},{default:d(()=>[p(a(v),k(a(n),{label:a(t)("form.fields.password"),type:"password"}),null,16,["label"]),p(V,{form:r.form},{default:d(()=>[I(R(a(t)("auth.reset_password.action")),1)]),_:1},8,["form"])]),_:1},8,["form"]))}}),Q=_({__name:"AuthResetPasswordView",setup(e){const s=T(!1),{t}=l(),n=N(),{form:r,onSubmitForm:c}=x({schema:C}),w=S(),y=B();r.register("token",w.token),r.register("email",y.email);const b=M(),h=D(()=>s.value?t("auth.features.your_password_has_been_reset_you_can"):t("auth.reset_password.description"));return c(async m=>{try{await b.execute({body:m}),s.value=!0}catch(f){n.show(f)}}),(m,f)=>(u(),i($,{description:h.value,title:a(t)("auth.reset_password.title")},{default:d(()=>[s.value?F("",!0):(u(),i(E,{key:0,form:a(r)},null,8,["form"]))]),_:1},8,["description","title"]))}});export{Q as default};
