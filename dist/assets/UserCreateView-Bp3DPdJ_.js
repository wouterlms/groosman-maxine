function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/AppConfirmDialog-CIl55lMS.js","assets/index-CrCkwzfa.js","assets/index-Cp9hM_vu.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{au as h,av as w,aw as C,ax as U,ay as m,az as I,z as f,d as p,g as b,o as g,p as v,w as u,e as c,J as N,f as D,t as T,u as n,y as x,B as S,b as $,H as E}from"./index-CrCkwzfa.js";import{U as F,_ as V}from"./user.service-W8sZaTok.js";import{u as B,a as M}from"./mutation.composable-2oUUAuQc.js";import{u as R}from"./typedRouter.composable-Cu1qKB0P.js";import{Q as k}from"./queryKey.type-Db8IGjbO.js";import{_ as P,a as q}from"./UserFormName.vue_vue_type_script_setup_true_lang-DKGu-bBQ.js";import"./useQueryClient-CGl7n97T.js";import"./style.util-B8atyAgL.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},r=new Error().stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="b846c201-8396-4b44-ae65-132db661d473",e._sentryDebugIdIdentifier="sentry-dbid-b846c201-8396-4b44-ae65-132db661d473")}catch{}})();function z(e){const r=h({component:()=>I(()=>import("./AppConfirmDialog-CIl55lMS.js"),__vite__mapDeps([0,1,2]))});function a(t){const{t:s}=m.global;if(e.value){r.open({confirmText:s("shared.save"),description:s("shared.unsaved_changes_description"),onConfirm:()=>{r.close(),t()},title:s("shared.unsaved_changes_title")});return}t()}return w((t,s,o)=>{if(e.value){a(()=>{o()});return}o()}),C(()=>{window.onbeforeunload=null}),U(()=>{window.onbeforeunload=t=>e.value?(t=t??window.event,t!=null&&(t.returnValue=m.global.t("shared.unsaved_changes_description")),m.global.t("shared.unsaved_changes_description")):null}),{handleUnsavedClose:a}}const A=f.object({firstName:f.string().min(1),lastName:f.string().min(1)});function K(){return B({queryFn:async({body:e})=>await F.create(e),queryKeysToInvalidate:[{exact:!1,key:k.USERS}]})}const L=p({__name:"UserCreateForm",props:{form:{}},setup(e){const r=e,{t:a}=b(),t=r.form.register("firstName"),s=r.form.register("lastName");return(o,d)=>(g(),v(x,{form:o.form},{default:u(({formId:i})=>[c(P,{target:"header-actions"},{default:u(()=>[c(N,{"form-id":i,form:o.form},{default:u(()=>[D(T(n(a)("users.create.create_user")),1)]),_:2},1032,["form-id","form"])]),_:2},1024),c(q,{"first-name":n(t),"last-name":n(s)},null,8,["first-name","last-name"])]),_:1},8,["form"]))}}),Y=p({__name:"UserCreateView",setup(e){const{t:r}=b(),a=R(),t=E(),s=M(),o=K(),d=[{label:r("shared.users"),to:{name:"user-overview"},type:"route"},{label:r("users.create.title"),type:"page"}],{form:i,onSubmitForm:y}=S({schema:A});return z($(()=>i.isDirty)),y(async l=>{try{await o.execute({body:l}),t.success({title:r("users.create.success")}),await a.push({name:"user-overview"})}catch(_){s.show(_)}}),(l,_)=>(g(),v(V,{breadcrumbs:d,title:n(r)("users.create.title")},{default:u(()=>[c(L,{form:n(i)},null,8,["form"])]),_:1},8,["title"]))}});export{Y as default};
