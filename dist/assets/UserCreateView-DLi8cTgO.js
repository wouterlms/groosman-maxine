function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/AppConfirmDialog-kZ00EhVE.js","assets/index-CGlgPuEt.js","assets/index-DXGPvDjb.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{at as h,au as w,av as C,aw as U,ax as m,ay as I,z as f,d as p,g,o as v,p as b,w as u,e as c,H as N,f as D,t as T,u as n,_ as x,A as E,b as S,E as $}from"./index-CGlgPuEt.js";import{U as F,_ as V}from"./user.service-ijSwUZN-.js";import{u as M,a as R}from"./mutation.composable-BpEpAF7l.js";import{u as k}from"./typedRouter.composable-MlTZWMT6.js";import{Q as A}from"./queryKey.type-DuZL0onf.js";import{_ as B,a as P}from"./UserFormName.vue_vue_type_script_setup_true_lang-DxwifIF6.js";import"./useQueryClient-ylb1_Lpr.js";import"./style.util-RI-0Lr3x.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},a=new Error().stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="a731906a-5a8a-44c2-ac51-7bbd3e39d581",e._sentryDebugIdIdentifier="sentry-dbid-a731906a-5a8a-44c2-ac51-7bbd3e39d581")}catch{}})();function q(e){const a=h({component:()=>I(()=>import("./AppConfirmDialog-kZ00EhVE.js"),__vite__mapDeps([0,1,2]))});function s(t){const{t:r}=m.global;if(e.value){a.open({confirmText:r("shared.save"),description:r("shared.unsaved_changes_description"),onConfirm:()=>{a.close(),t()},title:r("shared.unsaved_changes_title")});return}t()}return w((t,r,o)=>{if(e.value){s(()=>{o()});return}o()}),C(()=>{window.onbeforeunload=null}),U(()=>{window.onbeforeunload=t=>e.value?(t=t??window.event,t!=null&&(t.returnValue=m.global.t("shared.unsaved_changes_description")),m.global.t("shared.unsaved_changes_description")):null}),{handleUnsavedClose:s}}const K=f.object({firstName:f.string().min(1),lastName:f.string().min(1)});function L(){return M({queryFn:async({body:e})=>await F.create(e),queryKeysToInvalidate:[{exact:!1,key:A.USERS}]})}const Q=p({__name:"UserCreateForm",props:{form:{}},setup(e){const a=e,{t:s}=g(),t=a.form.register("firstName"),r=a.form.register("lastName");return(o,d)=>(v(),b(x,{form:o.form},{default:u(({formId:i})=>[c(B,{target:"header-actions"},{default:u(()=>[c(N,{"form-id":i,form:o.form},{default:u(()=>[D(T(n(s)("users.create.create_user")),1)]),_:2},1032,["form-id","form"])]),_:2},1024),c(P,{"first-name":n(t),"last-name":n(r)},null,8,["first-name","last-name"])]),_:1},8,["form"]))}}),Y=p({__name:"UserCreateView",setup(e){const{t:a}=g(),s=k(),t=$(),r=R(),o=L(),d=[{label:a("shared.users"),to:{name:"user-overview"},type:"route"},{label:a("users.create.title"),type:"page"}],{form:i,onSubmitForm:y}=E({schema:K});return q(S(()=>i.isDirty)),y(async l=>{try{await o.execute({body:l}),t.success({title:a("users.create.success")}),await s.push({name:"user-overview"})}catch(_){r.show(_)}}),(l,_)=>(v(),b(V,{breadcrumbs:d,title:n(a)("users.create.title")},{default:u(()=>[c(Q,{form:n(i)},null,8,["form"])]),_:1},8,["title"]))}});export{Y as default};
